(function(e){function n(n){for(var a,r,s=n[0],l=n[1],c=n[2],v=0,d=[];v<s.length;v++)r=s[v],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(n);while(d.length)d.shift()();return i.push.apply(i,c||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],a=!0,s=1;s<t.length;s++){var l=t[s];0!==o[l]&&(a=!1)}a&&(i.splice(n--,1),e=r(r.s=t[0]))}return e}var a={},o={hbo:0},i=[];function r(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=a,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="//mikatalk.github.io/tv-networks-prerolls/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var u=l;i.push([3,"chunk-vendors"]),t()})({3:function(e,n,t){e.exports=t("de58")},db29:function(e,n,t){},de58:function(e,n,t){"use strict";t.r(n);var a=t("d4ec"),o=t("bee2"),i=t("ade3"),r=(t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("db29"),t("5a89")),s="\nvoid main() {\n    gl_Position = vec4( position, 1.0 );\n}",l="\n#define PI 3.14159265359\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform float u_time;\n\n\nmat2 rotate2d(float _angle){\n  return mat2(cos(_angle),-sin(_angle), sin(_angle),cos(_angle));\n}\n\nmat2 scale2D(vec2 _scale){\n  return mat2(_scale.x,0.0,\n              0.0,_scale.y);\n}\n\nfloat square(in vec2 _st, in vec2 _size){\n  _size = vec2(0.5) - _size*0.5;\n  vec2 uv = smoothstep(_size, _size+vec2(0.001), _st);\n  uv *= smoothstep(_size, _size+vec2(0.001), vec2(1.0)-_st);\n  return uv.x*uv.y;\n}\n\n// from http://www.iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat roundBox(vec2 pos, vec2 bounds, float radius) {\n  return 1.0 - smoothstep(0.0, 0.005, length(max(abs(pos) - bounds, 0.0)) - radius);\n}\n\nfloat drawLetterH (vec2 st) {\n  float value = 0.0;\n  // side left bar\n  float box = square(st + vec2(0.13, 0.0), vec2(0.13, 0.572));\n  value = max(value, box);\n  // side right bar\n  box = square(st + vec2(-0.13, 0.0), vec2(0.13, 0.572));\n  value = max(value, box);\n  // middle bar\n  box = square(st + vec2(0.0, 0.0), vec2(0.25, 0.13));\n  value = max(value, box);\n  return value;\n}\n\nfloat drawLetterB (vec2 st) {\n\n  // top circle base\n  float box = roundBox(st - vec2(0.5, 0.619), vec2(0.01, 0.0), 0.165);\n  float value = box;\n  \n  // bottom circle base\n  box = roundBox(st - vec2(0.5, 0.381), vec2(0.01, 0.0), 0.165);\n  value = max(value, box);\n\n  // top circle mask inside\n  box = roundBox(st - vec2(0.475, 0.62), vec2(0.03, 0.0), 0.045);\n  value = mix(value, 0.0, box);\n  \n  // bottom circle mask inside\n  box = roundBox(st - vec2(0.475, 0.38), vec2(0.03, 0.0), 0.045);\n  value = mix(value, 0.0, box);\n  \n \n  \n  \n  // left edge bar\n  box = square(st + vec2(0.12, 0.0), vec2(0.15, 0.5));\n  value = max(value, box);\n  // value.g = box;\n \n  \n  // top edge bar\n  box = square(st + vec2(0.16, -0.237), vec2(0.35, 0.1));\n  value = max(value, box);\n  // value.g = box;\n \n  \n  \n  // bottom edge bar\n  box = square(st + vec2(0.16, 0.237), vec2(0.35, 0.1));\n  value = max(value, box);\n  // value.g = box;\n \n  \n  \n  // mask left side\n  box = square(st + vec2(0.27, 0.0), vec2(0.2, 0.7));\n  value = mix(value, 0.0, box);\n  \n \n  return value;\n}\n\nfloat drawLetterO (vec2 st) {\n  // main base\n  float value = roundBox(st - vec2(0.25, 0.5), vec2(0.0, 0.0), 0.285);\n\n  // mask inside\n  float box = roundBox(st - vec2(0.25, 0.5), vec2(0.0, 0.0), 0.145);\n  value = mix(value, 0.0, box);\n\n  // dot inside\n  box = roundBox(st - vec2(0.25, 0.5), vec2(0.0, 0.0), 0.11);\n  value = max(value, box);\n\n  return value;\n}\n\nfloat mapTime (float from, float to, float time) {\n  return clamp((time - from) / (to - from), 0.0, 1.0);\n}\n\n\nfloat drawBack (vec2 st, float noise, vec2 scale) {\n  // float value = 0.0;\n\n  float value = 0.0;\n  \n  st -= vec2(0.5);\n  st *= 1.0 / scale;\n  st += vec2(0.5);\n  // main background light flashes\n  vec2 pos = st - vec2(0.5, 0.5);\n  float radius = 0.1;\n  float box = length(max(abs(pos) - scale, 0.0)) - radius;\n  float bg = (1.0 - smoothstep(0.0, 1.0, box)) * 1.0;\n  bg *= 1.0 + mapTime(1.0, 1.25, u_time) * 2.0;\n  bg *= 1.0 - mapTime(1.5, 2.0, u_time) * 0.5;\n  \n  // noisy foreground\n  float fg = (1.0 - smoothstep(0.0, 0.005, box)) * noise;\n  // wait 1.5 second before showing the noise\n  fg *= mapTime(1.0, 2.5, u_time);\n\n  value = max(bg, fg);\n  // value = fg;\n\n  value *= (1.0 - mapTime(6.0, 8.0, u_time));\n\n  return value;\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat rand(float c){\nreturn rand(vec2(c,1.0));\n}\n\nfloat makeBackWhiteLight (vec2 st) {\n  return 1.0 - clamp(distance(vec2(0.4, 0.33) + st / vec2(5.0, 3.0), vec2(0.5)) * 4.0, 0.0, 1.0);\n}\n\nvoid main() {\n\n    vec2 st = gl_FragCoord.xy / u_resolution.xy;\n  \n    float noise = rand(sin(u_time) + st);\n\n\n    vec3 darkGrey = vec3(0.3, 0.29, 0.3);\n    vec3 grey = vec3(0.49, 0.5, 0.58);\n\n    vec3 color = vec3(0.0);\n    \n    float background = 0.0;\n    // draw the frame around\n    background = max(\n      0.0, \n      drawBack(\n        st,\n        noise, // * 1.0 - mapTime(4.0, 6.0, u_time),\n        vec2(\n          mapTime(0.5, 2.0, u_time),\n          0.02 + 2.0 * mapTime(1.5, 3.0, u_time)\n    )));\n    \n    // scale down all the letter at once\n    float downScale = 2.2;// - mapTime(5.0, 5.25, u_time) * 2.0;\n    st -= vec2(0.5);\n    st = scale2D(vec2(downScale)) * st;\n    st += vec2(0.5);\n\n    float animationOpacity = mapTime(1.0, 3.0, u_time);\n    float hbo = 0.0;\n    // H\n    hbo = max(hbo, drawLetterH(st + vec2(0.4, 0.0)));\n    \n    // B\n    hbo = max(hbo, drawLetterB(st + vec2(0.0, 0.0)));\n    \n    // 0\n    hbo = max(hbo, drawLetterO(st + vec2(-0.69, 0.0)));\n\n    // base background\n    color = vec3(background * darkGrey);\n    // color = clamp(color * 1.5, 0.0, 1.0);\n\n    // add back light\n    float light = makeBackWhiteLight(st);\n    color = mix(color, vec3(light), light * (mapTime(2.3, 3.3, u_time) - mapTime(5.0, 8.0, u_time)));    \n\n    // save a copy of hbo shape to use it as mask later\n    float hboMask = hbo;\n\n    // increase noise  on hbo the fade away\n    hbo = mix(hbo, 1.0-noise, hbo * (1.0 - mapTime(3.5, 6.5, u_time)));\n    // stamp hbo over the bg and light halo\n    color = mix(color, vec3(hbo), hboMask * ((mapTime(2.5, 4.5, u_time) - mapTime(6.5, 8.5, u_time))));\n    \n    // add noise to back but make it less noisy as time goes\n    grey = mix(vec3((1.0-hboMask) * noise), grey, mapTime(2.5, 4.5, u_time));\n    \n    color *= mix(vec3(1.0), grey, animationOpacity);\n\n\n    // final fade away\n    color = mix(color, vec3(0.0),  mapTime(9.0, 10.0, u_time));\n\n    gl_FragColor = vec4(color, 1.0);\n\n}\n\n",c=function(){function e(n){var t=this;Object(a["a"])(this,e),Object(i["a"])(this,"container",void 0),Object(i["a"])(this,"camera",void 0),Object(i["a"])(this,"scene",void 0),Object(i["a"])(this,"renderer",void 0),Object(i["a"])(this,"uniforms",void 0),Object(i["a"])(this,"playing",void 0),Object(i["a"])(this,"onMouseMove",(function(e){t.uniforms.u_mouse.value.x=e.pageX,t.uniforms.u_mouse.value.y=e.pageY})),Object(i["a"])(this,"onWindowResize",(function(){var e=window.innerWidth;t.renderer.setSize(e,e),t.uniforms.u_resolution.value.x=t.renderer.domElement.width,t.uniforms.u_resolution.value.y=t.renderer.domElement.height})),Object(i["a"])(this,"animate",(function(e){requestAnimationFrame(t.animate),t.playing&&(t.slider.value=.003*e%10*100);var n=t.slider.value/100;t.uniforms.u_time.value=n,t.label.innerText=n,t.render()})),this.container=n,this.playing=!0,this.init(),this.animate(),this.playing=!0,this.slider.value=0}return Object(o["a"])(e,[{key:"init",value:function(){this.camera=new r["a"],this.camera.position.z=1,this.scene=new r["d"];var e=new r["c"](2,2);this.uniforms={u_time:{type:"f",value:0},u_resolution:{type:"v2",value:new r["f"]},u_mouse:{type:"v2",value:new r["f"]}};var n=new r["e"]({uniforms:this.uniforms,vertexShader:s,fragmentShader:l}),t=new r["b"](e,n);this.scene.add(t),this.renderer=new r["g"]({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize,!1),document.addEventListener("mousemove",this.onMouseMove,!1),document.body.classList.add("preroll-hbo"),this.addCrontrols()}},{key:"addCrontrols",value:function(){var e=this;this.playBtn=document.createElement("button"),this.label=document.createElement("span"),this.label.classList.add("label"),this.playBtn.innerText=this.playing?"⎕":"▶︎",this.playBtn.type="button",this.playBtn.classList.add("play-btn"),this.playBtn.addEventListener("click",(function(){e.playing=!e.playing,e.playBtn.innerText=e.playing?"⎕":"▶︎"}),!1),this.slider=document.createElement("input"),this.slider.type="range",this.slider.min=0,this.slider.max=1e3,this.slider.value=0,this.slider.classList.add("slider"),this.slider.addEventListener("input",(function(){e.playing=!1})),this.container.appendChild(this.playBtn),this.container.appendChild(this.label),this.container.appendChild(this.slider)}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),e}();new c(document.getElementById("app"))}});
//# sourceMappingURL=hbo.2faffdb0.js.map